### 从零开始学习大数据之四：Apache ZooKeeper 简介(译)
[TOC]

> Zookeeper(动物园管理员)：因为分布式系统就是一个动物园(Zoo)

Zookeeper是一个分布式协调服务，用与管理大型的集群，协调和管理一个在分布式环境中服务是一个复杂的流程，
Zookeeper通过提供简单的架构和API来解决这些问题，ZooKeeper使开发人员只需关注的应用逻辑的核心实现，而不需要考虑如何实现分布式应用的特性。

Zookeeper起源于Yahoo！：为快速稳定的访问他们的应用，后来Apache ZooKeeper成为管理服务的标准，被Hadoop，
HBase，和其他的分布式架构所使用，例如： Apache HBase使用ZooKeeper看跟踪分布式数据的状态。

在我们深入之前，我们必须对分布式应用有所了解；

**分布式应用**

一个分布式应用能够运行在一个网络的多个系统中,在一个特定的时间内，通过协调各个系统快速高效的完成一个特定的任务，
通常，这些任务是复杂并且耗时，一个非分布式的应用（单机系统）通常需要花费多个小时才能完成。但是一个分布式应用
通过使用多个系统的计算资源只要几分钟就可以完成；

完成任务的时间可以通过添加新的系统来进一步缩短，分布式应用运行一组分布式系统称为**集群**(Cluster)，而其中的每台机器
称为**节点**(Node)。

一个分布式应用由俩部分组成：服务器和客户端应用。服务器应用实际上是分布式的并提供一个通用的接口，客户端可以连接任意一台集群中的机器，
都能获得相同的计算结果，客户端的应用本质就是一个工具(Tool)用来和分布式应用交互。

![Cluster](https://www.tutorialspoint.com/zookeeper/images/distributed_application.jpg)

**分布式应用的优点**

1. 高可用，任何一个节点或部分系统故障系统仍然可用
2. 可扩展，可以通过添加新机器，对配置做微小的修改并且不停机条件下就能提升整体的性能
3. 透明，隐藏系统的复杂性，通过提供单一的入口和应用

**分布式应用面临的挑战**

1.临界竞争（race condition）:俩个或者更多的机器尝试执行一个特定的操作，而实际上只要一台机器在任意给定的时间执行即可，比如对共享的资源的修改，只需要一台机器
   在任意给定的时间执行即可
2. 死锁:俩个或者更得操作无限的等待另外一个完成
3. 不一致性:数据部分失败

**那么Zookeeper能干什么**

Apache ZooKeeper 是一个服务被集群用来相互协调并且通过强健的同步技术来管理共享数据，
Apache ZooKeeper 本身就是一个分布式服务用于构建分布式应用
ZooKeeper提供的常用的功能如下：

- 命名服务 - 通过名字来识别集群中的节点，有点像DNS，但是仅用于节点
- 配置管理 -提供最新及时的配置的信息当集群中加入新的节点
- 集群管理 - 实时加入和撤出一个集群中的节点
- 领导选举 - 选举一个节点作为管理者来管理整个集群
- 锁和同步服务 - 在修改时锁定数据，这种机制能够帮助你在连接其他的分布式应用实现自动的失败恢复，比如Apache HBase
- 高可用的数据服务 - 数据仍然可用（读写）当其中一个或者小数节点挂断后

分布式系统有很多优点，但是他们同时也有很多复杂和难以克服的缺点，ZooKeeper框架提供一个完整的机制来解决这些问题。临界竞争和死锁可以使用绝对安全的同步措施来解决，另外一个主要的缺点：数据不一致，可以使用ZooKeeper的原子性特性解决。

**ZooKeeper的优点**
如下是使用ZooKeeper的带来的好处 −

- 简介的分布式协调流程
- 同步性 - 服务器进程的互斥和协作，这个服务帮助Apache HBase来做配置管理
- 消息有序性
- 串行化 - 通过特定的规则对数据进行编码，确保应用程序持续运行，这种方法用于MapReduce管理队列执行的调度
- 高可用
- 原子性 − 数据传递要么成功要么失败, 但是没有部分失败或成功.

原文 [Zookeeper - Overview](https://www.tutorialspoint.com/zookeeper/zookeeper_overview.htm)









